<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DII Arc Gauge Foundation - Module 1 Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: #f5f5f7;
            padding: 40px 20px;
            margin: 0;
            color: #333;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #1d1d1f;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            font-size: 18px;
            margin-bottom: 50px;
        }
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 40px;
            margin-bottom: 60px;
        }
        .demo-card {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            text-align: center;
        }
        .demo-card.primary {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border: 2px solid #4caf50;
        }
        h2 {
            margin: 0 0 30px 0;
            color: #333;
            font-size: 24px;
        }
        .coordinate-info {
            background: #f5f5f7;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .stage-legend {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
            padding: 20px;
            background: #f5f5f7;
            border-radius: 12px;
        }
        .stage-item {
            text-align: center;
        }
        .stage-color {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 auto 10px;
        }
        .implementation-box {
            background: #1d1d1f;
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            margin-top: 60px;
        }
        code {
            background: #2d2d2f;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>DII Arc Gauge Foundation - Module 1</h1>
        <p class="subtitle">Bulletproof foundation with precise coordinate system</p>
        
        <div class="demo-grid">
            <!-- Test 1: Foundation Arc (No Rotation) -->
            <div class="demo-card">
                <h2>Foundation Arc (0° Rotation)</h2>
                <svg width="400" height="400" viewBox="0 0 400 400">
                    <defs>
                        <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                            <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#f0f0f0" stroke-width="1"/>
                        </pattern>
                    </defs>
                    
                    <!-- Grid background -->
                    <rect width="400" height="400" fill="url(#grid)" opacity="0.5" />
                    
                    <!-- Center crosshair -->
                    <line x1="200" y1="0" x2="200" y2="400" stroke="#ddd" stroke-width="1" />
                    <line x1="0" y1="200" x2="400" y2="200" stroke="#ddd" stroke-width="1" />
                    
                    <!-- Main foundation arc (225° to 495°) -->
                    <path d="M 79.29 320.71 A 160 160 0 1 1 320.71 320.71" 
                          fill="none" 
                          stroke="#e5e7eb" 
                          stroke-width="24" 
                          stroke-linecap="round" 
                          opacity="0.3" />
                    
                    <!-- Scale tick marks (1-10) -->
                    <g id="ticks">
                        <!-- Value 1 (225°) -->
                        <line x1="89.29" y1="310.71" x2="69.29" y2="330.71" stroke="#666" stroke-width="2" />
                        <text x="49.29" y="350.71" text-anchor="middle" font-size="14" fill="#666">1</text>
                        
                        <!-- Value 2 (255°) -->
                        <line x1="113.4" y1="341.96" x2="96.6" y2="358.04" stroke="#666" stroke-width="2" />
                        <text x="79.8" y="374.12" text-anchor="middle" font-size="14" fill="#666">2</text>
                        
                        <!-- Value 3 (285°) -->
                        <line x1="147.11" y1="363.11" x2="133.85" y2="376.37" stroke="#666" stroke-width="2" />
                        <text x="120.59" y="389.63" text-anchor="middle" font-size="14" fill="#666">3</text>
                        
                        <!-- Value 4 (315°) - FRÁGIL boundary -->
                        <line x1="186.86" y1="371.13" x2="177.57" y2="380.43" stroke="#333" stroke-width="3" />
                        <text x="168.28" y="389.72" text-anchor="middle" font-size="14" fill="#333" font-weight="bold">4</text>
                        
                        <!-- Value 5 (345°) -->
                        <line x1="227.35" y1="364.52" x2="221.24" y2="370.63" stroke="#666" stroke-width="2" />
                        <text x="215.13" y="376.74" text-anchor="middle" font-size="14" fill="#666">5</text>
                        
                        <!-- Value 6 (375°) - ROBUSTO boundary -->
                        <line x1="262.98" y1="344.64" x2="259.44" y2="348.18" stroke="#333" stroke-width="3" />
                        <text x="255.9" y="351.72" text-anchor="middle" font-size="14" fill="#333" font-weight="bold">6</text>
                        
                        <!-- Value 7 (405°) -->
                        <line x1="289.81" y1="314.81" x2="288.66" y2="316.96" stroke="#666" stroke-width="2" />
                        <text x="287.51" y="319.11" text-anchor="middle" font-size="14" fill="#666">7</text>
                        
                        <!-- Value 8 (435°) - RESILIENTE boundary -->
                        <line x1="305.77" y1="279.32" x2="306.36" y2="279.73" stroke="#333" stroke-width="3" />
                        <text x="306.95" y="280.14" text-anchor="middle" font-size="14" fill="#333" font-weight="bold">8</text>
                        
                        <!-- Value 9 (465°) -->
                        <line x1="310.08" y1="242.35" x2="311.53" y2="240.9" stroke="#666" stroke-width="2" />
                        <text x="312.98" y="239.45" text-anchor="middle" font-size="14" fill="#666">9</text>
                        
                        <!-- Value 10 (495°) -->
                        <line x1="310.71" y1="220.71" x2="330.71" y2="220.71" stroke="#666" stroke-width="2" />
                        <text x="350.71" y="220.71" text-anchor="middle" font-size="14" fill="#666">10</text>
                    </g>
                    
                    <!-- Stage boundary markers -->
                    <g id="stage-markers" opacity="0.5">
                        <!-- 4.0 boundary -->
                        <line x1="186.86" y1="371.13" x2="167.28" y2="390.72" 
                              stroke="#333" stroke-width="3" stroke-dasharray="5,5" />
                        <!-- 6.0 boundary -->
                        <line x1="262.98" y1="344.64" x2="250.47" y2="357.15" 
                              stroke="#333" stroke-width="3" stroke-dasharray="5,5" />
                        <!-- 8.0 boundary -->
                        <line x1="305.77" y1="279.32" x2="301.36" y2="284.73" 
                              stroke="#333" stroke-width="3" stroke-dasharray="5,5" />
                    </g>
                    
                    <!-- Center point -->
                    <circle cx="200" cy="200" r="3" fill="#ff0000" opacity="0.5" />
                    <text x="200" y="190" text-anchor="middle" font-size="12" fill="#999">Center</text>
                </svg>
                
                <div class="coordinate-info">
                    <strong>Arc Parameters:</strong><br>
                    • Start: 225° (bottom-left)<br>
                    • End: 495° (bottom-right)<br>
                    • Sweep: 270°<br>
                    • Gap: 90° at bottom<br>
                    • Scale: 1-10 (DII specification)
                </div>
            </div>

            <!-- Test 2: Foundation Arc with 170° Rotation -->
            <div class="demo-card primary">
                <h2>✅ Foundation Arc (170° Rotation)</h2>
                <svg width="400" height="400" viewBox="0 0 400 400" style="transform: rotate(170deg); transform-origin: center;">
                    <!-- Same arc path, just rotated -->
                    <path d="M 79.29 320.71 A 160 160 0 1 1 320.71 320.71" 
                          fill="none" 
                          stroke="#e5e7eb" 
                          stroke-width="24" 
                          stroke-linecap="round" 
                          opacity="0.3" />
                    
                    <!-- Tick marks with counter-rotation for labels -->
                    <g id="ticks-rotated">
                        <!-- Simplified for clarity - showing key values -->
                        <line x1="89.29" y1="310.71" x2="69.29" y2="330.71" stroke="#666" stroke-width="2" />
                        <text x="49.29" y="350.71" text-anchor="middle" font-size="14" fill="#666" 
                              transform="rotate(-170 49.29 350.71)">1</text>
                        
                        <line x1="186.86" y1="371.13" x2="177.57" y2="380.43" stroke="#333" stroke-width="3" />
                        <text x="168.28" y="389.72" text-anchor="middle" font-size="14" fill="#333" font-weight="bold"
                              transform="rotate(-170 168.28 389.72)">4</text>
                        
                        <line x1="262.98" y1="344.64" x2="259.44" y2="348.18" stroke="#333" stroke-width="3" />
                        <text x="255.9" y="351.72" text-anchor="middle" font-size="14" fill="#333" font-weight="bold"
                              transform="rotate(-170 255.9 351.72)">6</text>
                        
                        <line x1="305.77" y1="279.32" x2="306.36" y2="279.73" stroke="#333" stroke-width="3" />
                        <text x="306.95" y="280.14" text-anchor="middle" font-size="14" fill="#333" font-weight="bold"
                              transform="rotate(-170 306.95 280.14)">8</text>
                        
                        <line x1="310.71" y1="220.71" x2="330.71" y2="220.71" stroke="#666" stroke-width="2" />
                        <text x="350.71" y="220.71" text-anchor="middle" font-size="14" fill="#666"
                              transform="rotate(-170 350.71 220.71)">10</text>
                    </g>
                    
                    <!-- Debug info - counter-rotated -->
                    <g transform="rotate(-170 200 200)">
                        <text x="200" y="380" text-anchor="middle" font-size="12" fill="#999">
                            CSS rotation: 170° | Labels counter-rotated
                        </text>
                    </g>
                </svg>
                
                <div class="coordinate-info">
                    <strong>Rotation Strategy:</strong><br>
                    • Arc path: UNCHANGED<br>
                    • SVG: rotate(170deg)<br>
                    • Labels: rotate(-170deg)<br>
                    • Result: Perfect alignment ✓
                </div>
            </div>
        </div>

        <!-- Stage Legend -->
        <div class="stage-legend">
            <div class="stage-item">
                <div class="stage-color" style="background: #ef4444;"></div>
                <strong>FRÁGIL</strong><br>
                <span style="color: #666; font-size: 14px;">DII < 4.0</span>
            </div>
            <div class="stage-item">
                <div class="stage-color" style="background: #f59e0b;"></div>
                <strong>ROBUSTO</strong><br>
                <span style="color: #666; font-size: 14px;">4.0 - 6.0</span>
            </div>
            <div class="stage-item">
                <div class="stage-color" style="background: #10b981;"></div>
                <strong>RESILIENTE</strong><br>
                <span style="color: #666; font-size: 14px;">6.0 - 8.0</span>
            </div>
            <div class="stage-item">
                <div class="stage-color" style="background: #3b82f6;"></div>
                <strong>ADAPTATIVO</strong><br>
                <span style="color: #666; font-size: 14px;">DII > 8.0</span>
            </div>
        </div>

        <!-- Implementation details -->
        <div class="implementation-box">
            <h2 style="color: #fff; text-align: center;">Module 1 Foundation Implementation</h2>
            
            <h3 style="color: #fff; margin-top: 30px;">✅ Key Implementation Points:</h3>
            <ul style="line-height: 1.8;">
                <li>Arc angles are <strong>FIXED</strong>: 225° → 495° (270° sweep)</li>
                <li>Scale is 1-10 (not 0-10) per DII specification</li>
                <li>Rotation is purely CSS - no path recalculation</li>
                <li>Coordinate system provides precise angle for any value</li>
                <li>Stage boundaries clearly marked at 4.0, 6.0, 8.0</li>
            </ul>

            <h3 style="color: #fff; margin-top: 30px;">📐 Coordinate System Functions:</h3>
            <pre style="background: #2d2d2f; padding: 20px; border-radius: 8px; overflow-x: auto;">
<code>// Convert DII value (1-10) to angle
valueToAngle(value: number): number {
  const normalizedValue = (value - 1) / 9;  // 1-10 range
  return 225 + (normalizedValue * 270);
}

// Get x,y coordinates for any angle
angleToPoint(angle: number): Point {
  const radians = (angle * Math.PI) / 180;
  return {
    x: centerX + radius * Math.cos(radians),
    y: centerY + radius * Math.sin(radians)
  };
}</code></pre>

            <h3 style="color: #fff; margin-top: 30px;">🎯 Next Steps:</h3>
            <ol style="line-height: 1.8;">
                <li><strong>Module 2</strong>: Add gradient progressive arc using coordinate system</li>
                <li><strong>Module 3</strong>: Add centered value display with stage name</li>
                <li><strong>Integration</strong>: Combine all modules with animations</li>
            </ol>
        </div>
    </div>
</body>
</html>