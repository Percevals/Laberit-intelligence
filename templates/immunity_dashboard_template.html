<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard de Inmunidad Digital: LATAM & Espa√±a | {{WEEK_DATE}}</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
background-color: #091F2C;
color: #ffffff;
line-height: 1.6;
padding-bottom: 60px;
}

.container {
max-width: 1200px;
margin: 0 auto;
padding: 20px;
}

/* Executive Summary Card - Simplified */
.executive-summary {
background: linear-gradient(135deg, rgba(180, 181, 223, 0.2), rgba(26, 43, 61, 0.6));
padding: 30px;
border-radius: 12px;
margin-bottom: 30px;
border: 2px solid rgba(180, 181, 223, 0.3);
}

.executive-summary h2 {
font-size: 24px;
color: #B4B5DF;
margin-bottom: 20px;
}

.summary-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 20px;
}

.summary-item {
text-align: center;
}

.summary-number {
font-size: 42px;
font-weight: 700;
margin-bottom: 5px;
}

.summary-label {
font-size: 14px;
color: #A6BBC8;
}

.summary-action {
background: rgba(180, 181, 223, 0.2);
padding: 15px 20px;
border-radius: 8px;
margin-top: 20px;
font-size: 16px;
text-align: center;
}

/* Framework Context Box */
.framework-context {
background: rgba(180, 181, 223, 0.1);
padding: 25px;
border-radius: 12px;
margin-bottom: 30px;
border: 1px solid rgba(180, 181, 223, 0.3);
text-align: center;
}

.framework-context h4 {
font-size: 20px;
color: #B4B5DF;
margin-bottom: 15px;
font-weight: 500;
}

.framework-context p {
font-size: 15px;
color: #A6BBC8;
margin-bottom: 8px;
}

.framework-context a {
display: inline-block;
margin-top: 10px;
color: #B4B5DF;
text-decoration: none;
font-size: 16px;
padding: 8px 16px;
background: rgba(180, 181, 223, 0.2);
border-radius: 6px;
transition: all 0.3s;
}

.framework-context a:hover {
background: rgba(180, 181, 223, 0.3);
transform: translateY(-1px);
}

/* Header */
.header {
text-align: center;
padding: 30px;
background: rgba(26, 43, 61, 0.5);
border-radius: 12px;
margin-bottom: 30px;
}

.header h1 {
font-size: 32px;
font-weight: 400;
margin-bottom: 10px;
}

.header-date {
color: #A6BBC8;
font-size: 15px;
}

/* Key Metrics */
.metrics-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
margin-bottom: 30px;
}

.metric-card {
background: rgba(26, 43, 61, 0.5);
padding: 25px;
border-radius: 8px;
text-align: center;
border: 1px solid rgba(180, 181, 223, 0.2);
position: relative;
}

.metric-number {
font-size: 36px;
font-weight: 600;
color: #B4B5DF;
display: block;
margin-bottom: 5px;
}

.metric-label {
font-size: 13px;
color: #A6BBC8;
text-transform: uppercase;
}

.metric-context {
font-size: 12px;
color: #7A99AC;
margin-top: 8px;
}

/* Traffic Light Indicator */
.traffic-light {
position: absolute;
top: 10px;
right: 10px;
width: 20px;
height: 20px;
border-radius: 50%;
}

.traffic-light.red { background: #C10016; }
.traffic-light.yellow { background: #FFB84D; }
.traffic-light.green { background: #4CAF50; }

/* Chart Container - Simplified */
.chart-container {
background: rgba(26, 43, 61, 0.5);
padding: 30px;
border-radius: 8px;
margin-bottom: 40px;
}

.chart-title {
text-align: center;
font-size: 20px;
color: #B4B5DF;
margin-bottom: 30px;
}

.scatter-chart {
height: 400px;
position: relative;
margin: 0;
padding: 0;
overflow: hidden;
box-sizing: border-box;
}

.chart-inner {
position: absolute;
top: 40px;
right: 40px;
bottom: 40px;
left: 40px;
}

.chart-quadrant {
position: absolute;
display: flex;
align-items: center;
justify-content: center;
text-align: center;
padding: 30px;
font-size: 14px;
color: #A6BBC8;
z-index: 1;
}

.chart-point {
position: absolute;
width: 70px;
height: 70px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-weight: 600;
font-size: 11px;
cursor: pointer;
transition: all 0.3s;
box-shadow: 0 2px 10px rgba(0,0,0,0.3);
text-align: center;
flex-direction: column;
transform: translate(-50%, -50%);
z-index: 2;
}

.chart-point:hover {
transform: translate(-50%, -50%) scale(1.15);
z-index: 10;
}

/* Threat Grid - Simplified */
.threat-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
gap: 20px;
margin-bottom: 40px;
}

.threat-card {
background: rgba(26, 43, 61, 0.5);
padding: 20px;
border-radius: 8px;
border: 1px solid rgba(180, 181, 223, 0.2);
}

.threat-header {
display: flex;
align-items: center;
gap: 12px;
margin-bottom: 15px;
padding-bottom: 15px;
border-bottom: 1px solid rgba(180, 181, 223, 0.1);
}

.threat-title {
font-size: 18px;
font-weight: 500;
}

.threat-list {
list-style: none;
}

.threat-list li {
background: rgba(255, 255, 255, 0.03);
padding: 12px;
margin-bottom: 8px;
border-radius: 6px;
}

.threat-name {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 4px;
}

.threat-value {
font-weight: 600;
color: #B4B5DF;
}

/* Actions Grid */
.actions-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 20px;
margin-bottom: 40px;
}

.action-card {
background: rgba(26, 43, 61, 0.6);
padding: 25px;
border-radius: 8px;
border-top: 3px solid #B4B5DF;
}

.action-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}

.action-title {
font-size: 18px;
color: #B4B5DF;
}

.action-score {
background: rgba(180, 181, 223, 0.2);
padding: 5px 12px;
border-radius: 15px;
font-size: 12px;
color: #B4B5DF;
}

.action-list {
list-style: none;
}

.action-list li {
padding: 10px 0;
font-size: 14px;
color: #ffffff;
padding-left: 20px;
position: relative;
}

.action-list li:before {
content: '‚Üí';
position: absolute;
left: 0;
color: #7A99AC;
}

/* Footer */
.footer {
text-align: center;
padding: 40px 20px;
color: #A6BBC8;
}

.footer-quote {
font-size: 18px;
font-style: italic;
color: #B4B5DF;
margin-bottom: 8px;
}

.report-meta {
margin-top: 20px;
padding-top: 15px;
border-top: 1px solid rgba(166, 187, 200, 0.2);
font-size: 13px;
color: #7A8B9A;
}

.report-meta a {
color: #A6BBC8;
text-decoration: none;
transition: color 0.3s;
}

.report-meta a:hover {
color: #B4B5DF;
text-decoration: underline;
}

/* Interactive hover effects */
.metric-card:hover {
transform: translateY(-2px);
border-color: rgba(180, 181, 223, 0.4);
cursor: pointer;
}

.threat-list li:hover {
background: rgba(255, 255, 255, 0.06);
transform: translateX(3px);
cursor: pointer;
}

.action-card:hover {
transform: translateY(-2px);
border-color: rgba(180, 181, 223, 0.4);
}

/* Detail panel for interactions */
.detail-panel {
position: fixed;
bottom: -100%;
left: 0;
right: 0;
background: linear-gradient(to top, #091F2C, rgba(26, 43, 61, 0.95));
padding: 30px;
border-top: 2px solid #B4B5DF;
transition: all 0.3s ease;
z-index: 1000;
max-height: 50vh;
overflow-y: auto;
}

.detail-panel.show {
bottom: 60px;
}

.detail-close {
position: absolute;
top: 15px;
right: 20px;
background: rgba(180, 181, 223, 0.2);
border: none;
color: #B4B5DF;
padding: 8px 16px;
border-radius: 6px;
cursor: pointer;
}

#detailContent {
margin-top: 20px;
}

/* News ticker */
.news-ticker {
background: linear-gradient(90deg, #C10016, #091F2C);
color: white;
padding: 15px;
position: fixed;
bottom: 0;
left: 0;
right: 0;
display: flex;
align-items: center;
justify-content: space-between;
gap: 20px;
z-index: 999;
}

.ticker-content {
flex: 1;
overflow: hidden;
}

.ticker-source {
color: #FFB84D;
font-size: 14px;
}

.ticker-action {
color: #B4B5DF;
cursor: pointer;
text-decoration: underline;
}

/* Tooltip for chart points */
.chart-point {
position: relative;
}

.chart-point::after {
content: attr(data-info);
position: absolute;
bottom: 100%;
left: 50%;
transform: translateX(-50%);
background: rgba(26, 43, 61, 0.95);
color: white;
padding: 8px 12px;
border-radius: 6px;
font-size: 12px;
white-space: nowrap;
opacity: 0;
pointer-events: none;
transition: opacity 0.3s;
margin-bottom: 5px;
border: 1px solid rgba(180, 181, 223, 0.3);
}

.chart-point:hover::after {
opacity: 1;
}

/* Source styling for threat cards */
.threat-source {
font-size: 12px;
color: #FFB84D;
margin-top: 5px;
}

/* Mobile Responsive */
@media (max-width: 768px) {
.container {
padding: 10px;
}
.header h1 {
font-size: 24px;
}
.summary-grid {
grid-template-columns: 1fr;
}
.threat-grid {
grid-template-columns: 1fr;
}
.actions-grid {
grid-template-columns: 1fr;
}
.news-ticker {
font-size: 14px;
padding: 10px;
}
}
</style>
</head>
<body>
<div class="container">
<!-- Executive Summary Card -->
<div class="executive-summary">
<h2>Resumen Ejecutivo - Su Empresa en 30 Segundos</h2>
<div class="summary-grid">
<div class="summary-item">
<div class="summary-number" style="color: #FFB84D;">{{IMMUNITY_AVG}}</div>
<div class="summary-label">Inmunidad Promedio Regional</div>
</div>
<div class="summary-item">
<div class="summary-number" style="color: #4CAF50;">{{ATTACKS_WEEK}}</div>
<div class="summary-label">Ataques/Semana LATAM</div>
</div>
<div class="summary-item">
<div class="summary-number" style="color: #C10016;">{{TOP_THREAT_PCT}}</div>
<div class="summary-label">{{TOP_THREAT_TYPE}}</div>
</div>
<div class="summary-item">
<div class="summary-number" style="color: #FFB84D;">{{VICTIMS_LOW_IMMUNITY_PCT}}</div>
<div class="summary-label">V√≠ctimas con inmunidad < 4</div>
</div>
</div>
<div class="summary-action">
<strong>{{KEY_INSIGHT}}</strong>
</div>
</div>

<!-- Header -->
<div class="header">
<h1>Dashboard de Inmunidad Digital: LATAM & Espa√±a</h1>
<div class="header-date">An√°lisis Semanal: {{WEEK_DATE}} | Framework 3.0</div>
</div>

<!-- Framework Context -->
<div class="framework-context">
<h4>üîç Sobre el Framework de Inmunidad</h4>
<p>Basado en 150+ evaluaciones reales en LATAM</p>
<p>Correlaci√≥n probada: Mayor inmunidad = Menor incidencia</p>
<a href="https://percevals.github.io/Laberit-intelligence/immunity-framework.html" target="_blank">
Ver metodolog√≠a completa ‚Üí
</a>
</div>

<!-- Key Metrics -->
<h2 style="text-align: center; margin-bottom: 20px; color: #B4B5DF;">M√©tricas Clave</h2>

<div class="metrics-grid">
<div class="metric-card">
<div class="traffic-light {{IMMUNITY_COLOR}}"></div>
<span class="metric-number">{{IMMUNITY_SCORE}}/10</span>
<span class="metric-label">Inmunidad Digital v3.0</span>
<span class="metric-context">{{IMMUNITY_CONTEXT}}</span>
</div>
<div class="metric-card">
<div class="traffic-light red"></div>
<span class="metric-number">{{ATTACKS_VS_GLOBAL}}</span>
<span class="metric-label">M√°s Ataques que Global</span>
<span class="metric-context">{{ATTACKS_CONTEXT}}</span>
</div>
<div class="metric-card">
<div class="traffic-light {{GOVT_COLOR}}"></div>
<span class="metric-number">{{GOVT_IMMUNITY}}</span>
<span class="metric-label">Inmunidad Gobierno</span>
<span class="metric-context">Modelo m√°s vulnerable</span>
</div>
<div class="metric-card">
<div class="traffic-light red"></div>
<span class="metric-number">{{VECTOR_PCT}}</span>
<span class="metric-label">{{MAIN_VECTOR}}</span>
<span class="metric-context">Vector principal LATAM</span>
</div>
</div>

<!-- Chart Section -->
<div class="chart-container">
<h3 class="chart-title">Mapa de Inmunidad por Sector</h3>
<div class="scatter-chart">
<div class="chart-inner">
<!-- Quadrants -->
<div class="chart-quadrant" style="top: 0; left: 0; width: 50%; height: 50%; background: rgba(76, 175, 80, 0.1);">
<div>ZONA RESILIENTE<br>Baja exposici√≥n<br>Alta capacidad<br><small style="font-size: 11px; opacity: 0.7;">Raramente comprometidos</small></div>
</div>
<div class="chart-quadrant" style="top: 0; left: 50%; width: 50%; height: 50%; background: rgba(255, 184, 77, 0.1);">
<div>ZONA DE RIESGO<br>Alta exposici√≥n<br>Alta capacidad<br><small style="font-size: 11px; opacity: 0.7;">Necesita monitoreo continuo</small></div>
</div>
<div class="chart-quadrant" style="top: 50%; left: 0; width: 50%; height: 50%; background: rgba(255, 184, 77, 0.1);">
<div>ZONA VULNERABLE<br>Baja exposici√≥n<br>Baja capacidad<br><small style="font-size: 11px; opacity: 0.7;">Riesgo moderado-alto</small></div>
</div>
<div class="chart-quadrant" style="top: 50%; left: 50%; width: 50%; height: 50%; background: rgba(193, 0, 22, 0.1);">
<div>ZONA CR√çTICA<br>Alta exposici√≥n<br>Baja capacidad<br><small style="font-size: 11px; opacity: 0.7;">Mayor frecuencia de incidentes</small></div>
</div>
{{IMMUNITY_CHART_POINTS}}
</div><!-- End chart-inner -->
</div>
</div>

<!-- Weekly Threats -->
<h2 style="text-align: center; margin: 40px 0 20px 0; color: #B4B5DF;">Amenazas Activas - {{WEEK_LABEL}}</h2>

<div class="threat-grid">
{{THREAT_ACTORS_CARD}}
{{BUSINESS_IMPACTS_CARD}}
{{ATTACK_VECTORS_CARD}}
</div>

<!-- Action Plan -->
<h2 style="text-align: center; margin: 40px 0 20px 0; color: #B4B5DF;">Plan de Acci√≥n seg√∫n Nivel de Inmunidad</h2>

<div class="actions-grid">
{{ACTION_CARDS}}
</div>

<!-- Footer -->
<div class="footer">
<div class="footer-quote">"{{FOOTER_QUOTE}}"</div>
<div>{{FOOTER_TEXT}}</div>
<div class="report-meta">
{{REPORT_METADATA}}
</div>
</div>
</div>

<!-- Detail Panel -->
<div class="detail-panel" id="detailPanel">
<button class="detail-close" onclick="closeDetail()">‚úï Cerrar</button>
<div id="detailContent"></div>
</div>

<!-- News Ticker -->
<div class="news-ticker">
<div class="ticker-content">
<strong>ALERTA CONTINUA:</strong>
<span id="tickerVictim">{{TICKER_NEWS}}</span>
</div>
<div>
<span class="ticker-source" id="tickerSource">{{TICKER_SOURCE}}</span> |
<span class="ticker-action" onclick="showVictimDetail()">Ver an√°lisis</span>
</div>
</div>

<script>
// Incident data with sources
const incidents = {{NEWS_DATA}};

let currentIncident = 0;

// Detail content database
const detailContent = {
metric: {
immunity: '<h4>Inmunidad Digital: {{IMMUNITY_AVG}}/10</h4><p>El {{KEY_INSIGHT}} La regi√≥n muestra una tendencia preocupante con la mayor√≠a de organizaciones en zona cr√≠tica.</p>',
attacks: '<h4>LATAM: {{ATTACKS_VS_GLOBAL}} M√°s Ataques que Promedio Global</h4><p>{{ATTACKS_WEEK}} ataques semanales en la regi√≥n. {{TOP_THREAT_TYPE}} representa el {{TOP_THREAT_PCT}} de los incidentes.</p>',
government: '<h4>Gobierno: Modelo M√°s Vulnerable</h4><p>Con inmunidad de {{GOVT_IMMUNITY}}/10, los gobiernos son el modelo de negocio m√°s vulnerable. Sistemas obsoletos y presupuesto limitado crean una tormenta perfecta.</p>'
},
threat: {
lockbit: '<h4>LockBit 3.0: El M√°s Activo</h4><p>Responsable de m√∫ltiples ataques en gobierno y salud. Utiliza doble extorsi√≥n y publica datos en menos de 24 horas si no hay pago.</p>',
blackcat: '<h4>BlackCat/ALPHV: Sofisticaci√≥n Creciente</h4><p>Grupo RaaS que evoluciona constantemente. Prefiere targets con inmunidad media-baja y sectores con datos sensibles.</p>',
medusa: '<h4>Medusa: Emergente en LATAM</h4><p>Nuevo grupo enfocado en la regi√≥n. Especializado en empresas medianas con poca inversi√≥n en ciberseguridad.</p>'
},
vector: {
phishing: '<h4>Phishing: {{VECTOR_PCT}} de Ataques</h4><p>El vector m√°s efectivo en LATAM. La ingenier√≠a social explota la falta de capacitaci√≥n y awareness en las organizaciones.</p>',
api: '<h4>APIs Vulnerables: Nuevo Per√≠metro</h4><p>Con la digitalizaci√≥n acelerada, las APIs mal configuradas son el nuevo punto d√©bil. 85% de v√≠ctimas ten√≠an inmunidad < 3.5.</p>',
supply: '<h4>Supply Chain: Efecto Cascada</h4><p>Un solo proveedor comprometido puede afectar docenas de empresas. La interdependencia digital multiplica el riesgo.</p>'
}
};

// Show detail panel
function showDetail(type, subtype) {
const content = detailContent[type]?.[subtype] || '<p>Informaci√≥n adicional no disponible.</p>';
document.getElementById('detailContent').innerHTML = content;
document.getElementById('detailPanel').classList.add('show');
}

// Close detail panel
function closeDetail() {
document.getElementById('detailPanel').classList.remove('show');
}

// Update ticker
function updateTicker() {
if (incidents && incidents.length > 0) {
currentIncident = (currentIncident + 1) % incidents.length;
document.getElementById('tickerVictim').textContent = incidents[currentIncident].name;
document.getElementById('tickerSource').textContent = incidents[currentIncident].source;
}
}

// Show victim detail
function showVictimDetail() {
if (incidents && incidents.length > 0) {
const incident = incidents[currentIncident];
document.getElementById('detailContent').innerHTML = `
<h4 style="color: #B4B5DF; margin-bottom: 15px;">An√°lisis del Incidente</h4>
<p style="line-height: 1.6;">${incident.details}</p>
`;
document.getElementById('detailPanel').classList.add('show');
}
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
// Add click handlers to metric cards
document.querySelectorAll('.metric-card').forEach((card, index) => {
const types = ['immunity', 'attacks', 'government'];
card.addEventListener('click', () => showDetail('metric', types[index]));
});

// Add click handlers to threat list items
document.querySelectorAll('.threat-list li').forEach(item => {
item.addEventListener('click', function() {
const threatType = this.closest('.threat-card').querySelector('.threat-title').textContent;
if (threatType.includes('Activos')) {
showDetail('threat', 'lockbit');
} else if (threatType.includes('Impactados')) {
showDetail('threat', 'blackcat');
} else if (threatType.includes('Vectores')) {
showDetail('vector', 'phishing');
}
});
});

// Start ticker rotation
if (incidents && incidents.length > 0) {
setInterval(updateTicker, 8000);
}
});
</script>
</body>
</html>
